# REST Микросервис лимитов

## Описание

Микросервис предоставляет REST API для управления дневными лимитами пользователей на возможные платежи.

## Основной функционал

1. **Хранение дневного лимита:**
    - Для каждого пользователя в базе данных хранится дневной лимит на возможные платежи.
    - Первоначальный лимит для новых пользователей составляет `10,000.00`.

2. **Сброс лимитов:**
    - В 00:00 каждого дня лимит для всех пользователей должен быть сброшен на установленное значение.

3. **Обработка платежей:**
    - При успешном проведении платежа лимит уменьшается на сумму платежа.
    - Если платеж не прошел, должна быть возможность восстановить списанный лимит. Стратегия восстановления лимита может
      быть выбрана разработчиком.

4. **Создание пользователей:**
    - Если в базе данных запрашивается лимит для пользователя с ID, который отсутствует, создается новая запись с
      начальным значением лимита.

## Пример REST API

### Получение текущего лимита пользователя

- **Метод:** `GET`
- **URL:** `/limits/{userId}`
- **Ответ:**

```json
{
  "userId": 1,
  "dailyLimit": 10000.00
}
```

- **Ответ:**

```json
{
  "userId": 1,
  "remainingLimit": 9500.00
}
```

### Восстановление лимита

- **Метод:** `POST`
- **URL:** `/limits/{userId}/restore`
- **Тело запроса:**

```json
{
  "amount": 500.00
}
```

- **Ответ:**

```json
{
  "userId": 1,
  "restoredLimit": 10000.00
}
```

### Уменьшение остатка (при платеже)

- **Метод:** `POST`
- **URL:** `/limits/{userId}/spend`
- **Тело запроса:**

```json
{
  "amount": 500.00
}
```

- **Ответ:**

```json
{
  "userId": 1,
  "restoredLimit": 10000.00
}
```